{
  "@context": {
    "pf": "https://profitflip.io/kg/v1#",
    "file": "pf:file/",
    "action": "pf:action/",
    "workflow": "pf:workflow/",
    "concept": "pf:concept/",
    "schema": "http://schema.org/",
    "modifies": { "@id": "pf:modifies", "@type": "@id", "@container": "@set" },
    "uses": { "@id": "pf:uses", "@type": "@id", "@container": "@set" },
    "documents": { "@id": "pf:documents", "@type": "@id", "@container": "@set" },
    "triggers": { "@id": "pf:triggers", "@type": "@id", "@container": "@set" },
    "triggeredBy": { "@id": "pf:triggeredBy", "@type": "@id", "@container": "@set" },
    "definesPermission": { "@id": "pf:definesPermission", "@type": "@id", "@container": "@set" }
  },
  "@graph": [
    {
      "@id": "workflow:ci-status",
      "@type": ["pf:Workflow", "schema:SoftwareSourceCode"],
      "schema:name": ".github/workflows/ci-status.yml",
      "schema:description": "Main CI workflow. Runs checks, manages checklist updates via PRs.",
      "uses": [
         "action:checkout",
         "action:setup-node",
         "action:tick-checklist",
         "action:create-pull-request"
      ],
      "triggers": "action:tick-checklist",
      "definesPermission": ["concept:contents-write", "concept:pull-requests-write"]
    },
    {
      "@id": "action:tick-checklist",
      "@type": ["pf:GitHubAction", "schema:SoftwareSourceCode"],
      "schema:name": ".github/actions/tick-checklist",
      "schema:description": "Custom action to mark items in a Markdown checklist.",
      "modifies": "file:checklist-md",
      "uses": "concept:actions-core",
      "triggeredBy": "workflow:ci-status"
    },
    {
      "@id": "file:action-yml",
      "@type": ["pf:File", "schema:SoftwareSourceCode"],
      "schema:name": ".github/actions/tick-checklist/action.yml",
      "schema:isPartOf": "action:tick-checklist"
    },
    {
        "@id": "file:action-index-js",
        "@type": ["pf:File", "schema:SoftwareSourceCode"],
        "schema:name": ".github/actions/tick-checklist/index.js",
        "schema:isPartOf": "action:tick-checklist"
    },
    {
      "@id": "file:action-dist-index-js",
      "@type": ["pf:File", "schema:SoftwareSourceCode"],
      "schema:name": ".github/actions/tick-checklist/dist/index.js",
      "schema:description": "Bundled action code generated by ncc.",
      "schema:isPartOf": "action:tick-checklist"
    },
    {
      "@id": "file:checklist-md",
      "@type": ["pf:File", "schema:TextDigitalDocument"],
      "schema:name": "docs/plan-b2.checklist.md",
      "schema:description": "Markdown file containing the project checklist, updated by CI."
    },
    {
      "@id": "file:readme-md",
      "@type": ["pf:File", "schema:TextDigitalDocument"],
      "schema:name": "README.md",
      "schema:description": "Main project documentation, single source of truth.",
      "documents": ["action:tick-checklist", "workflow:ci-status", "concept:permissions-reminder"]
    },
    {
      "@id": "action:create-pull-request",
      "@type": ["pf:GitHubActionUsage"],
      "schema:name": "peter-evans/create-pull-request@v6",
      "schema:description": "Action used in ci-status.yml to create PRs for checklist updates.",
       "triggeredBy": "workflow:ci-status"
    },
    {
      "@id": "concept:actions-core",
      "@type": "pf:NPMPackage",
      "schema:name": "@actions/core",
      "schema:description": "Core library for GitHub Actions in JavaScript."
    },
     {
      "@id": "concept:permissions-reminder",
      "@type": "pf:DocumentationConcept",
      "schema:name": "README Update Reminder",
      "schema:description": "An alert block reminding developers to update README.md before commits."
    },
    {
      "@id": "concept:contents-write",
      "@type": "pf:WorkflowPermission",
      "schema:name": "contents: write",
      "schema:description": "Permission allowing workflow to write repository contents (e.g., push branches)."
    },
    {
       "@id": "concept:pull-requests-write",
       "@type": "pf:WorkflowPermission",
       "schema:name": "pull-requests: write",
       "schema:description": "Permission allowing workflow to create pull requests."
    },
    {
      "@id": "file:workflow-kg-management",
      "@type": ["pf:File", "pf:KnowledgeGraph", "schema:SoftwareSourceCode"],
      "schema:name": "kg/workflow-kg-management.json",
      "schema:description": "Knowledge Graph defining the standard workflow for managing other KGs in this repository."
    },
    {
      "@id": "file:motivation-pr-perms",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:MotivationDocument", "schema:SoftwareSourceCode"],
      "schema:name": "kg/immediate_next_step_motivation.json",
      "schema:description": "KG documenting the motivation (issue, analysis, suggestions) for addressing the PR permission failure."
    },
    {
      "@id": "file:plan-resolve-pr-perms",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:ExecutionPlan", "schema:SoftwareSourceCode"],
      "schema:name": "kg/immediate_next_step_plan.json",
      "schema:description": "KG outlining the plan to resolve the PR permission failure, based on the motivation KG.",
      "pf:basedOnMotivation": "file:motivation-pr-perms"
    },
    {
      "@id": "file:result-resolve-pr-perms",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:PlanResult", "schema:SoftwareSourceCode"],
      "schema:name": "kg/immediate_next_step_result.json",
      "schema:description": "KG documenting the failed outcome of the plan to resolve the PR permission failure.",
      "pf:outcomeOfPlan": "file:plan-resolve-pr-perms"
    },
    {
      "@id": "file:motivation-investigate-pr-perms",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:MotivationDocument", "schema:SoftwareSourceCode"],
      "schema:name": "kg/next_step_motivation_pr_investigation.json",
      "schema:description": "KG documenting the motivation for investigating the PR permission failure after the initial plan failed.",
      "pf:basedOnResult": "file:result-resolve-pr-perms"
    },
    {
      "@id": "file:plan-investigate-pr-perms",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:ExecutionPlan", "schema:SoftwareSourceCode"],
      "schema:name": "kg/next_step_plan_pr_investigation.json",
      "schema:description": "KG outlining the detailed plan to investigate the PR permission failure.",
      "pf:basedOnMotivation": "file:motivation-investigate-pr-perms"
    },
    {
      "@id": "file:result-trigger-failed-pr-perms",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:PlanResult", "schema:SoftwareSourceCode"],
      "schema:name": "kg/result_workflow_trigger_failed.json",
      "schema:description": "KG documenting the failed outcome of re-triggering the workflow to test PR permissions.",
      "pf:outcomeOfPlan": "file:plan-resolve-pr-perms"
    },
    {
      "@id": "file:motivation-enable-debug-logs",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:MotivationDocument", "schema:SoftwareSourceCode"],
      "schema:name": "kg/motivation_enable_debug_logs.json",
      "schema:description": "KG documenting the motivation for enabling debug logs to investigate the PR permission failure.",
      "pf:basedOnResult": ["file:result-resolve-pr-perms", "file:result-trigger-failed-pr-perms"]
    },
    {
      "@id": "file:plan-enable-debug-logs",
      "@type": ["pf:File", "pf:KnowledgeGraph", "pf:ExecutionPlan", "schema:SoftwareSourceCode"],
      "schema:name": "kg/plan_enable_debug_logs.json",
      "schema:description": "KG outlining the plan to enable and analyze debug logs for the PR permission failure.",
      "pf:basedOnMotivation": "file:motivation-enable-debug-logs"
    }
  ]
} 